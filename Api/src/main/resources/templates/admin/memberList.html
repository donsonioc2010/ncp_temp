<!DOCTYPE html>
<html
        lang="ko"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/layout}"
>
<main layout:fragment="content">
    <div class="container">
        <link rel="stylesheet" type="text/css" href="/static/css/adminlist.css">
        <div class="admin-title-row">
            <h1>관리자 계정 대쉬보드</h1>
            <input type="button" value="계정 생성" class="btn btn-primary" style="height: 50%;"
                   onClick="moveForm();"
                   th:if="${session.loginUser.userRole.name().equals('ADMIN')}" />
        </div>

        <table border="1">
            <thead>
            <tr>
                <th>ID 번호</th>
                <th>이메일</th>
                <th>최근 로그인 시간</th>
                <th>최근 수정 시간</th>
                <th>별명</th>
                <th>프로필 링크</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td th:text="${user.id}"></td>
                <td th:text="${user.email}"></td>
                <td th:text="${user.loginAt}"></td>
                <td th:text="${user.updatedAt}"></td>
                <td th:text="${user.nickName}"></td>
                <td th:text="${user.profile}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</main>
<th:block layout:fragment="script">
    <script type="application/javascript" th:inline="javascript">
        function moveForm(){
            location.href=window.location.origin+"/admin/form"
        }
    </script>
    <script type="text/javascript">
    </script>
</th:block>
</html>